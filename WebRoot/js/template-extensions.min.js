/*artTemplate - Syntax Extensions*/(function(d){d.openTag="{";d.closeTag="}";d.parser=function(a){var a=a.replace(/^\s/,""),b=a.split(" "),c=b.shift();(c=d.keywords[c])?(b=b.join(" "),a=c.call(a,b)):a="=$escape("+a+")";return a};d.keywords={"if":function(a){return"if("+a+"){"},"else":function(a){a=a.split(" ");a="if"===a.shift()?" if("+a.join(" ")+")":"";return"}else"+a+"{"},"/if":function(){return"}"},each:function(a){var a=a.split(" "),b=a[0]||"$data",c=(a[2]||"$value")+","+(a[3]||"$index");"as"!==(a[1]||"as")&&(b="[]");return"$each("+b+",function("+c+"){"},"/each":function(){return"});"},echo:function(a){return"="+a},include:function(a){a=a.split(" ");return"=include("+a[0]+","+a[1]+")"}};d.helper("$each",function(a,b){if(e(a))f.call(a,b);else for(var c in a)b.call(a,a[c],c)});d.helper("$escape",function(){var a=/&(?!\w+;)|[<>"']/g,b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","&":"&amp;"},c=function(a){return b[a]||a};return function(b){return"string"===typeof b?b.replace(a,c):b}}());var f=d.helper("$forEach"),g=Object.prototype.toString,e=Array.isArray||function(a){return"[object Array]"===g.call(a)}})(template);